# 控制台首页模块

## 模块概述
控制台首页模块是模型管理平台的管理控制台，为管理员提供系统概览、资源监控、数据统计、成本分析等核心管理功能，是平台管理的统一入口和决策支持中心。

## 基本信息
- **模块名称**: 控制台首页
- **功能点数量**: 24个
- **总报价**: 12,487元 (1.2万元)
- **平均单价**: 520元/功能点

## 功能列表

### 1. 模型资源概览 (2个功能点)
- **展示用户所有的模型信息**: 展示用户拥有的所有模型，包括模型名称、状态、创建时间等基本信息
- **展示模型的各个版本及其性能指标**: 显示每个模型的版本信息和对应的性能指标，支持版本对比

### 2. 数据资源概览 (3个功能点)
- **展示所有数据集，包括大小、格式和最后更新时间**: 展示用户的所有数据集，显示数据集的基本信息和元数据
- **统计数据集的访问频率和下载次数**: 统计和展示数据集的使用情况，包括访问频率和下载次数
- **展示数据集的多个版本和变更记录**: 显示数据集的版本历史和变更记录，支持版本管理

### 3. 存储资源监控 (1个功能点)
- **显示当前数据存储的使用情况和剩余空间**: 实时监控存储资源使用情况，显示已用空间和剩余空间
### 4. AI应用监控 (5个功能点)
- **查看用户创建的所有AI应用**: 展示用户创建的所有AI应用列表，包括应用状态、创建时间等信息
- **统计包括响应时间、成功率和错误率指标**: 统计AI应用的性能指标，包括响应时间、成功率、错误率等
- **分析应用运行所需的资源**: 分析AI应用运行所需的计算资源、存储资源等
- **查询应用的日志信息，便于故障排查**: 提供应用日志查询功能，支持故障排查和问题诊断
- **新增记录应用的版本迭代和更新详情**: 记录AI应用的版本迭代历史和更新详情

### 5. 资源消耗分析 (2个功能点)
- **统计CPU/GPU资源使用率**: 实时统计和展示CPU/GPU资源的使用率情况
- **统计存储空间使用情况**: 统计和展示存储空间的使用情况，包括已用空间和可用空间

### 6. 成本与计费 (4个功能点)
- **统计各项资源消耗费用**: 统计各种资源的使用费用，包括计算资源、存储资源等
- **展示账单的汇总信息和支付状态**: 展示用户的账单汇总信息和支付状态
- **展示预算消耗情况**: 展示预算的使用情况和剩余预算
- **在超出预算时发出预警通知**: 当资源消耗超出预算时，及时发出预警通知

### 7. 模型性能监控 (4个功能点)
- **展示模型关键性能指标**: 展示模型的关键性能指标，包括准确率、召回率等
- **分析模型分析性能变化趋势**: 分析模型性能的变化趋势，支持历史数据对比
- **展示模型性能低于阈值时告警**: 当模型性能低于设定阈值时，及时发出告警
- **定期生成模型性能评估报告**: 定期生成模型性能评估报告，支持性能分析和优化

### 8. 个性化设置 (3个功能点)
- **自定义首页显示内容**: 允许用户自定义首页显示的内容和布局
- **设置接收通知类型和频率**: 设置用户接收的通知类型和频率
- **查看和修改个人账号的详细资料**: 查看和修改个人账号的详细资料信息

## 三级模块分布

- **AI应用监控**: 5个功能点
- **成本与计费**: 4个功能点
- **数据资源概览**: 4个功能点
- **模型性能监控**: 4个功能点
- **个性化设置**: 3个功能点
- **模型资源概览**: 2个功能点
- **资源消耗分析**: 2个功能点

## 复杂度分布

- **中等功能**: 13个功能点
- **复杂功能**: 3个功能点
- **简单功能**: 8个功能点

## 技术实现

### 前端技术栈
- **核心框架**: React 18 + TypeScript 5.0 + Vite 5.0
- **状态管理**: Zustand + React Query (TanStack Query)
- **UI组件**: Ant Design 5.0 + Tailwind CSS 3.0
- **仪表板组件**: 
  - React Dashboard组件，支持拖拽布局和自定义配置
  - 拖拽库: React DnD + React Grid Layout
  - 组件库: 自定义Widget组件 + 第三方图表组件
  - 配置管理: 仪表板配置持久化 + 用户偏好设置
- **图表组件**: 
  - ECharts 5.0 + Apache ECharts
  - 实时数据更新 + 交互式图表
  - 图表主题 + 自定义样式
  - 图表导出 + 图表分享
- **监控面板**: 
  - 实时监控面板，支持资源使用率、性能指标等实时展示
  - WebSocket实时数据推送 + 数据缓存
  - 监控指标配置 + 告警阈值设置
  - 监控历史数据 + 趋势分析
- **告警系统**: 
  - 告警通知组件，支持多种通知方式和告警级别
  - 告警规则引擎 + 告警聚合
  - 通知渠道: 邮件 + 短信 + 钉钉 + 企业微信
  - 告警历史 + 告警统计
- **响应式布局**: 
  - 适配不同屏幕尺寸的管理界面
  - 断点设计: sm/md/lg/xl/2xl
  - 移动端优化 + 触摸手势
- **性能优化**:
  - React.memo + useMemo优化渲染
  - 虚拟滚动 + 懒加载
  - PWA支持 + 离线缓存

### 后端技术栈
- **核心框架**: Spring Boot 3.2 + Spring WebFlux (响应式)
- **数据聚合服务**: 
  - Spring Boot微服务，负责数据收集和聚合
  - 数据采集: Micrometer + Prometheus
  - 数据聚合: Apache Kafka + Apache Flink
  - 数据存储: InfluxDB + TimescaleDB
- **监控服务**: 
  - 集成Prometheus + Grafana，提供系统监控和告警
  - 监控指标: 系统指标 + 业务指标 + 自定义指标
  - 告警规则: Prometheus AlertManager + 自定义规则
  - 监控面板: Grafana Dashboard + 自定义面板
- **成本计算引擎**: 
  - 资源使用成本计算和预算管理
  - 成本模型: 按量计费 + 包年包月 + 阶梯定价
  - 预算管理: 预算设置 + 预算告警 + 成本分析
  - 成本优化: 资源推荐 + 成本优化建议
- **报表生成服务**: 
  - 定期生成性能报告和成本分析报告
  - 报表引擎: JasperReports + Apache POI
  - 报表模板: 自定义模板 + 动态报表
  - 报表分发: 邮件发送 + 文件下载 + 在线查看
- **实时数据推送**: 
  - WebSocket实时推送监控数据和告警信息
  - 消息队列: Apache Kafka + RabbitMQ
  - 推送服务: Spring WebSocket + STOMP
  - 数据缓存: Redis + 本地缓存
- **缓存策略**: 
  - Redis 7.0 Cluster多级缓存
  - 监控数据缓存(1分钟) + 配置数据缓存(1小时)
  - 缓存预热 + 缓存穿透防护
- **数据存储**: 
  - PostgreSQL 15 (主数据) + TimescaleDB (时序数据)
  - 读写分离 + 连接池优化
- **监控告警**: 
  - Micrometer + Prometheus + Grafana
  - 系统监控 + 业务监控 + 用户行为监控
  - 异常告警: AlertManager + PagerDuty

### 微服务架构
- **服务网格**: Istio + Envoy Proxy
- **API网关**: Kong + 限流熔断
- **服务发现**: Consul + 健康检查
- **配置管理**: Consul KV + 动态配置
- **链路追踪**: Jaeger + OpenTelemetry
- **日志聚合**: ELK Stack + Fluentd

### 部署与运维
- **容器化**: Docker + Kubernetes
- **CI/CD**: GitLab CI/CD + ArgoCD
- **监控**: Prometheus + Grafana + Jaeger
- **安全**: OAuth2 + JWT + mTLS
- **备份**: 数据备份 + 配置备份

## 数据库设计

### 主要数据表
- **dashboard_configs**: 仪表板配置表
  - id, user_id, widget_config, layout_config, created_at, updated_at
- **resource_metrics**: 资源监控指标表
  - id, resource_type, metric_name, metric_value, timestamp, instance_id
- **cost_records**: 成本记录表
  - id, user_id, resource_type, cost_amount, billing_period, created_at
- **alert_rules**: 告警规则表
  - id, user_id, rule_name, metric_name, threshold, alert_level, is_enabled
- **performance_reports**: 性能报告表
  - id, user_id, report_type, report_data, generated_at, period_start, period_end

## API接口

### 仪表板相关接口
- `GET /api/dashboard/overview`: 获取仪表板概览数据
  - 返回: 模型数量、数据集数量、存储使用情况、成本统计
- `GET /api/dashboard/metrics`: 获取实时监控指标
  - 参数: metric_type, time_range
  - 返回: 资源使用率、性能指标等实时数据
- `POST /api/dashboard/config`: 保存仪表板配置
  - 参数: widget_config, layout_config
  - 返回: 配置保存结果

### 监控和告警接口
- `GET /api/monitoring/alerts`: 获取告警信息
- `POST /api/monitoring/alerts/rules`: 创建告警规则
- `GET /api/monitoring/performance`: 获取性能监控数据
- `GET /api/monitoring/costs`: 获取成本监控数据

### 报表接口
- `GET /api/reports/performance`: 获取性能报告
- `POST /api/reports/generate`: 生成自定义报告

## 测试用例

### 功能测试
1. **仪表板功能测试**
   - 仪表板数据展示测试
   - 自定义布局功能测试
   - 实时数据更新测试
   - 告警通知功能测试
2. **监控功能测试**
   - 资源监控数据准确性测试
   - 性能指标计算测试
   - 告警规则触发测试
   - 成本统计准确性测试
3. **报表功能测试**
   - 性能报告生成测试
   - 数据导出功能测试
   - 历史数据查询测试

### 性能测试
1. **实时数据处理性能测试**
   - 监控数据更新延迟 < 5秒
   - 图表渲染性能测试
   - 大数据量展示性能测试
2. **并发性能测试**
   - 多用户同时访问仪表板测试
   - 高并发监控数据查询测试
   - 告警系统并发处理测试

## 部署说明

### 环境要求
- **前端环境**: Node.js 16.x+, React 18.x, ECharts 5.x
- **后端环境**: Java 17+, Spring Boot 3.x, Spring WebSocket
- **数据库**: MySQL 8.0, InfluxDB (时序数据)
- **监控系统**: Prometheus, Grafana
- **缓存**: Redis 7.x
- **消息队列**: RabbitMQ (告警通知)
- **服务器**: 最小4GB内存, 推荐8GB

### 部署步骤
1. **环境准备**
   - 安装Node.js和Java运行环境
   - 配置MySQL和InfluxDB数据库
   - 安装Prometheus和Grafana监控系统
   - 配置Redis缓存和RabbitMQ消息队列
2. **应用部署**
   - 构建前端应用并部署到Nginx
   - 部署后端微服务到Kubernetes或Docker
   - 配置监控数据收集和告警规则
   - 初始化数据库表结构和监控指标
3. **配置检查**
   - 检查数据库连接和监控系统
   - 验证实时数据推送功能
   - 测试告警规则和通知功能
   - 验证仪表板自定义功能
4. **功能验证**
   - 仪表板数据展示测试
   - 实时监控功能测试
   - 告警系统功能测试
   - 报表生成功能测试

---

**文档版本**: v1.0  
**最后更新**: 2025年09月  
**维护人员**: 开发团队
